# Swagger/OpenAPI Документация

## Обзор

Проект Booking Assistant интегрирован с Swagger/OpenAPI для автоматической генерации интерактивной документации API. Это позволяет разработчикам и пользователям API легко исследовать доступные эндпоинты, методы, параметры и модели данных.

## Доступ к документации

Документация доступна по следующим URL:

- **Swagger UI**: `/swagger/` - интерактивный интерфейс для просмотра и тестирования API
- **ReDoc**: `/redoc/` - альтернативный интерфейс для просмотра документации API
- **OpenAPI Schema**: `/swagger.json` или `/swagger.yaml` - схема API в формате JSON или YAML

## Возможности Swagger UI

Swagger UI предоставляет следующие возможности:

1. **Просмотр всех доступных эндпоинтов API**
2. **Интерактивное тестирование API** - отправка запросов и просмотр ответов
3. **Авторизация** - тестирование защищенных эндпоинтов с использованием авторизации
4. **Документация моделей данных** - просмотр структуры запросов и ответов
5. **Примеры запросов и ответов** - автоматически генерируемые примеры

## Использование Swagger UI

### Просмотр документации

1. Перейдите по URL `/swagger/`
2. Просмотрите список доступных эндпоинтов, сгруппированных по ресурсам (специалисты, услуги, записи и т.д.)
3. Кликните на эндпоинт для просмотра детальной информации о нем

### Тестирование API

1. Выберите нужный эндпоинт
2. Нажмите на кнопку "Try it out"
3. Заполните параметры запроса (если требуются)
4. Нажмите "Execute" для отправки запроса
5. Просмотрите результаты запроса (статус, заголовки, тело ответа)

### Авторизация

1. Нажмите на кнопку "Authorize" в верхней части страницы
2. Введите учетные данные для авторизации
3. После авторизации вы сможете тестировать защищенные эндпоинты

## Структура документации

Документация API включает следующую информацию:

- **Эндпоинты** - URL и HTTP методы (GET, POST, PUT, DELETE и т.д.)
- **Параметры** - параметры запроса, пути и заголовков
- **Тело запроса** - структура данных для методов POST, PUT, PATCH
- **Ответы** - возможные коды состояния и структура ответов
- **Модели** - структура данных, используемая в API

## Добавление документации к API

Документация генерируется автоматически на основе:

1. **Docstrings в ViewSets** - описания методов и действий
2. **Сериализаторов** - структура данных моделей
3. **Параметров URL** - структура эндпоинтов и маршрутов

## Примеры

### ViewSet с документацией

```python
class SpecialistViewSet(viewsets.ModelViewSet):
    """
    API для работы со специалистами (мастерами/врачами).
    
    list:
        Получить список всех активных специалистов.
        Поддерживает фильтрацию по городу (?city=Казань) и категории услуг (?category_id=1).
        
    retrieve:
        Получить детальную информацию о специалисте по ID.
    """
    # ...
    
    @action(detail=True, methods=['get'])
    def available_slots(self, request, pk=None):
        """
        Получить доступные временные слоты специалиста.
        
        Возвращает список доступных слотов для записи на указанную дату.
        Принимает параметр запроса 'date' в формате YYYY-MM-DD.
        """
        # ...
```

### Модель сериализатора

```python
class AppointmentSerializer(serializers.ModelSerializer):
    class Meta:
        model = Appointment
        fields = [
            'id', 'client', 'client_name', 'service', 'service_name', 
            'specialist', 'specialist_name', 'category_name',
            'date', 'start_time', 'end_time', 'status', 'created_at', 'updated_at'
        ]
        read_only_fields = ['id', 'created_at', 'updated_at']
```

## Интеграция с внешними системами

Swagger/OpenAPI документация может быть использована для:

1. **Генерации клиентских библиотек** для различных языков программирования
2. **Интеграции с API-шлюзами** и системами управления API
3. **Автоматизации тестирования API** с использованием инструментов, поддерживающих OpenAPI
4. **Интеграции с системами мониторинга API** 